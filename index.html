<!doctype html>

<html>

<head>
	<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.6/p5.js"></script>-->
	<!--<script src="stuff.js"></script>-->
	<script src="cmd_line_text.js"></script>
	<script src="section.js"></script>
	<link rel="stylesheet" href="style.css">

	<title>Matthew Roberson</title>
</head>

<body>	

	<!--The different sections or pages of the site-->
	<div class="sections">
		<!--The top navigation bar-->
		<ul>
			<li><button id="HomeButton" onclick="sectionList['Home'].scrollToSection()" autofocus>Home</button></li>
			<li><button id="EducationButton" onclick="sectionList['Education'].scrollToSection();">Education</button></li>
			<li><button id="PersonalProjectsButton" onclick="sectionList['PersonalProjects'].scrollToSection();">Personal Projects</button></li>
			<li><button id="ContactButton" onclick="sectionList['Contact'].scrollToSection();">Contact</button></li>
		</ul>

		<section id="Home" class="section-div">
			<h1 id="HomeHeader" class="section-header">\> </h1>
		</section>

		<section id="Education" class="section-div">
			<h1 id="EducationHeader" class="section-header">\> </h1>
		</section>

		<section id="PersonalProjects" class="section-div">
			<h1 id="PersonalProjectsHeader" class="section-header">\> </h1>
		</section>

		<section id="Contact" class="section-div">
			<h1 id="ContactHeader" class="section-header">\> </h1>
		</section>
	</div>

	<script>
		//Resets the scroll position when the page is reloaded
		history.scrollRestoration = 'manual';
		
		const sectionList = {};

		var observer = new IntersectionObserver(function(entries) {
			var sectionID = entries[0].target.id;

			if (entries[0].isIntersecting === true) {
				sectionList[sectionID].cmdLineText.checkForPrint();
				document.getElementById(sectionID+'Button').focus();

			}
		}, {
			root: document.getElementById('sections'),
			threshold: [1]
		});

		Array.from(document.getElementsByClassName('section-div')).forEach(section => {
			sectionList[section.id] = new Section(section.id);
		});

	</script>

</body>

</html>
